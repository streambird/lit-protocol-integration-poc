## Lit Protocol integration POC

Lit actions allows us to send in a JS code that verifies a JWT and then finds the "private key" to sign a message. We send in a uint8 array of the message we want to sign. Use the example below.

https://developer.litprotocol.com/docs/LitActionsAndPKPs/workingWithLitActions

### Streambird Lit Action

Streambird Lit action should do the following

1. Get JWT sent in to Lit action
2. Parse JWT to get app_id and user_id
3. Validate jwt token using the /jwks/{app_id} JSON key sets to ensure the JWT signer is the same and token NOT expired
4. Ping /users/me to get the default address stored on Lit. Or figure out someway to check that the address requested belongs to the owner of JWT token user_id.
5. Use Lit to get the signatures from client side

### Open Questions

API/Protocol related:

1. How do we create key pairs via Lit API going forward? What does that API interface look like, maybe a RPC endpoint?
2. Will the “create endpoint” give us the public address that got generated by the MPC nodes (related to 1.) Currently there is no public address exposed in any of the SDK interfaces.
3. What is the unique identifier for Lit key pairs (assuming keyId?, which is just 1 at the moment in test script). If yes, then we might need to associate that with the user on our end or is there a CUSTOM keyID we can pass in to associate a generated keypair with a custom ID.
4. Can we have metadata attached to a keypair say our User ID for a 1 to many relationship between a user and the keypairs?

SDK related:

1. Is there a typescript compatible library or type definition for the lit js sdk?


